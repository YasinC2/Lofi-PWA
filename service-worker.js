const CACHE_NAME = 'lofi-pwa-v1.0.3';
const ASSETS_TO_CACHE = [
  "background.jpg",
  "background2.jpg",
  "cover.jpg",
  "favicon-196.png",
  "favicon-32.png",
  "icons/delete.svg",
  "icons/export.svg",
  "icons/github.svg",
  "icons/help.svg",
  "icons/next.svg",
  "icons/play.svg",
  "icons/previous.svg",
  "icons/refresh.svg",
  "icons/repeat-all.svg",
  "icons/repeat-continuous.svg",
  "icons/repeat-one.svg",
  "icons/repeat.svg",
  "icons/shuffle-active.svg",
  "icons/shuffle.svg",
  "icons/volume-muted.svg",
  "icons/volume.svg",
  "index.html",
  "index.js",
  "main.css",
  "manifest.json",
  "README.md",
  "samples/instruments/guitar-acoustic/A2.mp3",
  "samples/instruments/guitar-acoustic/A3.mp3",
  "samples/instruments/guitar-acoustic/A4.mp3",
  "samples/instruments/guitar-acoustic/A5.mp3",
  "samples/instruments/guitar-acoustic/C2.mp3",
  "samples/instruments/guitar-acoustic/C3.mp3",
  "samples/instruments/guitar-acoustic/C4.mp3",
  "samples/instruments/guitar-acoustic/C5.mp3",
  "samples/instruments/guitar-acoustic/C6.mp3",
  "samples/instruments/guitar-acoustic/Ds2.mp3",
  "samples/instruments/guitar-acoustic/Ds3.mp3",
  "samples/instruments/guitar-acoustic/Ds4.mp3",
  "samples/instruments/guitar-acoustic/Ds5.mp3",
  "samples/instruments/guitar-acoustic/Fs2.mp3",
  "samples/instruments/guitar-acoustic/Fs3.mp3",
  "samples/instruments/guitar-acoustic/Fs4.mp3",
  "samples/instruments/guitar-acoustic/Fs5.mp3",
  "samples/instruments/guitar-bass/A.mp3",
  "samples/instruments/guitar-bass/C.mp3",
  "samples/instruments/guitar-bass/E.mp3",
  "samples/instruments/guitar-electric/A2.mp3",
  "samples/instruments/guitar-electric/A3.mp3",
  "samples/instruments/guitar-electric/A4.mp3",
  "samples/instruments/guitar-electric/A5.mp3",
  "samples/instruments/guitar-electric/C3.mp3",
  "samples/instruments/guitar-electric/C4.mp3",
  "samples/instruments/guitar-electric/C5.mp3",
  "samples/instruments/guitar-electric/C6.mp3",
  "samples/instruments/guitar-electric/Cs2.mp3",
  "samples/instruments/guitar-electric/Ds3.mp3",
  "samples/instruments/guitar-electric/Ds4.mp3",
  "samples/instruments/guitar-electric/Ds5.mp3",
  "samples/instruments/guitar-electric/E2.mp3",
  "samples/instruments/guitar-electric/Fs2.mp3",
  "samples/instruments/guitar-electric/Fs3.mp3",
  "samples/instruments/guitar-electric/Fs4.mp3",
  "samples/instruments/guitar-electric/Fs5.mp3",
  "samples/instruments/harp/A2.mp3",
  "samples/instruments/harp/A3.mp3",
  "samples/instruments/harp/A4.mp3",
  "samples/instruments/harp/A5.mp3",
  "samples/instruments/harp/A6.mp3",
  "samples/instruments/harp/C2.mp3",
  "samples/instruments/harp/C3.mp3",
  "samples/instruments/harp/C4.mp3",
  "samples/instruments/harp/C5.mp3",
  "samples/instruments/harp/C6.mp3",
  "samples/instruments/harp/Ds2.mp3",
  "samples/instruments/harp/Ds3.mp3",
  "samples/instruments/harp/Ds4.mp3",
  "samples/instruments/harp/Ds5.mp3",
  "samples/instruments/harp/Ds6.mp3",
  "samples/instruments/harp/Fs2.mp3",
  "samples/instruments/harp/Fs3.mp3",
  "samples/instruments/harp/Fs4.mp3",
  "samples/instruments/harp/Fs5.mp3",
  "samples/instruments/harp/Fs6.mp3",
  "samples/instruments/piano/A2.mp3",
  "samples/instruments/piano/A3.mp3",
  "samples/instruments/piano/A4.mp3",
  "samples/instruments/piano/A5.mp3",
  "samples/instruments/piano/A6.mp3",
  "samples/instruments/piano/A7.mp3",
  "samples/instruments/piano/C2.mp3",
  "samples/instruments/piano/C3.mp3",
  "samples/instruments/piano/C4.mp3",
  "samples/instruments/piano/C5.mp3",
  "samples/instruments/piano/C6.mp3",
  "samples/instruments/piano/C7.mp3",
  "samples/instruments/piano/C8.mp3",
  "samples/instruments/piano/Ds2.mp3",
  "samples/instruments/piano/Ds3.mp3",
  "samples/instruments/piano/Ds4.mp3",
  "samples/instruments/piano/Ds5.mp3",
  "samples/instruments/piano/Ds6.mp3",
  "samples/instruments/piano/Ds7.mp3",
  "samples/instruments/piano/Fs2.mp3",
  "samples/instruments/piano/Fs3.mp3",
  "samples/instruments/piano/Fs4.mp3",
  "samples/instruments/piano/Fs5.mp3",
  "samples/instruments/piano/Fs6.mp3",
  "samples/instruments/piano/Fs7.mp3",
  "samples/instruments/piano-electric/A2.mp3",
  "samples/instruments/piano-electric/A3.mp3",
  "samples/instruments/piano-electric/A4.mp3",
  "samples/instruments/piano-electric/A5.mp3",
  "samples/instruments/piano-electric/A6.mp3",
  "samples/instruments/piano-electric/C2.mp3",
  "samples/instruments/piano-electric/C3.mp3",
  "samples/instruments/piano-electric/C4.mp3",
  "samples/instruments/piano-electric/C5.mp3",
  "samples/instruments/piano-electric/C6.mp3",
  "samples/instruments/piano-electric/Ds2.mp3",
  "samples/instruments/piano-electric/Ds3.mp3",
  "samples/instruments/piano-electric/Ds4.mp3",
  "samples/instruments/piano-electric/Ds5.mp3",
  "samples/instruments/piano-electric/Ds6.mp3",
  "samples/instruments/piano-electric/Fs2.mp3",
  "samples/instruments/piano-electric/Fs3.mp3",
  "samples/instruments/piano-electric/Fs4.mp3",
  "samples/instruments/piano-electric/Fs5.mp3",
  "samples/instruments/piano-electric/Fs6.mp3",
  "samples/instruments/piano-soft/A2.mp3",
  "samples/instruments/piano-soft/A3.mp3",
  "samples/instruments/piano-soft/A4.mp3",
  "samples/instruments/piano-soft/A5.mp3",
  "samples/instruments/piano-soft/A6.mp3",
  "samples/instruments/piano-soft/A7.mp3",
  "samples/instruments/piano-soft/C2.mp3",
  "samples/instruments/piano-soft/C3.mp3",
  "samples/instruments/piano-soft/C4.mp3",
  "samples/instruments/piano-soft/C5.mp3",
  "samples/instruments/piano-soft/C6.mp3",
  "samples/instruments/piano-soft/C7.mp3",
  "samples/instruments/piano-soft/C8.mp3",
  "samples/instruments/piano-soft/Ds2.mp3",
  "samples/instruments/piano-soft/Ds3.mp3",
  "samples/instruments/piano-soft/Ds4.mp3",
  "samples/instruments/piano-soft/Ds5.mp3",
  "samples/instruments/piano-soft/Ds6.mp3",
  "samples/instruments/piano-soft/Ds7.mp3",
  "samples/instruments/piano-soft/Fs2.mp3",
  "samples/instruments/piano-soft/Fs3.mp3",
  "samples/instruments/piano-soft/Fs4.mp3",
  "samples/instruments/piano-soft/Fs5.mp3",
  "samples/instruments/piano-soft/Fs6.mp3",
  "samples/instruments/piano-soft/Fs7.mp3",
  "samples/loops/drumloop100/drumloop100.mp3",
  "samples/loops/drumloop70/drumloop70_1.mp3",
  "samples/loops/drumloop70/drumloop70_2.mp3",
  "samples/loops/drumloop70/drumloop70_3.mp3",
  "samples/loops/drumloop75/drumloop75_1.mp3",
  "samples/loops/drumloop75/drumloop75_2.mp3",
  "samples/loops/drumloop75/drumloop75_3.mp3",
  "samples/loops/drumloop75/drumloop75_4.mp3",
  "samples/loops/drumloop75/drumloop75_5.mp3",
  "samples/loops/drumloop80/drumloop80_1.mp3",
  "samples/loops/drumloop80/drumloop80_2.mp3",
  "samples/loops/drumloop80/drumloop80_3.mp3",
  "samples/loops/drumloop80/drumloop80_4.mp3",
  "samples/loops/drumloop80/drumloop80_5.mp3",
  "samples/loops/drumloop85/drumloop85_1.mp3",
  "samples/loops/drumloop85/drumloop85_2.mp3",
  "samples/loops/drumloop85/drumloop85_3.mp3",
  "samples/loops/drumloop85/drumloop85_4.mp3",
  "samples/loops/drumloop85/drumloop85_5.mp3",
  "samples/loops/drumloop85/drumloop85_6.mp3",
  "samples/loops/drumloop90/drumloop90_1.mp3",
  "samples/loops/drumloop90/drumloop90_2.mp3",
  "samples/loops/drumloop90/drumloop90_3.mp3",
  "samples/loops/drumloop90/drumloop90_4.mp3",
  "samples/loops/drumloop90/drumloop90_5.mp3",
  "samples/loops/drumloop95/drumloop95_1.mp3",
  "samples/loops/drumloop95/drumloop95_2.mp3",
  "samples/loops/drumloop95/drumloop95_3.mp3",
  "samples/loops/drumloop95/drumloop95_4.mp3",
  "samples/loops/rain/rain_1.mp3",
  "samples/loops/rain/rain_10.mp3",
  "samples/loops/rain/rain_11.mp3",
  "samples/loops/rain/rain_12.mp3",
  "samples/loops/rain/rain_13.mp3",
  "samples/loops/rain/rain_2.mp3",
  "samples/loops/rain/rain_3.mp3",
  "samples/loops/rain/rain_4.mp3",
  "samples/loops/rain/rain_5.mp3",
  "samples/loops/rain/rain_6.mp3",
  "samples/loops/rain/rain_7.mp3",
  "samples/loops/rain/rain_8.mp3",
  "samples/loops/rain/rain_9.mp3",
  "samples/loops/vinyl/vinyl_1.mp3",
  "samples/loops/vinyl/vinyl_10.mp3",
  "samples/loops/vinyl/vinyl_11.mp3",
  "samples/loops/vinyl/vinyl_12.mp3",
  "samples/loops/vinyl/vinyl_13.mp3",
  "samples/loops/vinyl/vinyl_14.mp3",
  "samples/loops/vinyl/vinyl_15.mp3",
  "samples/loops/vinyl/vinyl_16.mp3",
  "samples/loops/vinyl/vinyl_17.mp3",
  "samples/loops/vinyl/vinyl_18.mp3",
  "samples/loops/vinyl/vinyl_19.mp3",
  "samples/loops/vinyl/vinyl_2.mp3",
  "samples/loops/vinyl/vinyl_20.mp3",
  "samples/loops/vinyl/vinyl_21.mp3",
  "samples/loops/vinyl/vinyl_22.mp3",
  "samples/loops/vinyl/vinyl_23.mp3",
  "samples/loops/vinyl/vinyl_24.mp3",
  "samples/loops/vinyl/vinyl_25.mp3",
  "samples/loops/vinyl/vinyl_3.mp3",
  "samples/loops/vinyl/vinyl_4.mp3",
  "samples/loops/vinyl/vinyl_5.mp3",
  "samples/loops/vinyl/vinyl_6.mp3",
  "samples/loops/vinyl/vinyl_7.mp3",
  "samples/loops/vinyl/vinyl_8.mp3",
  "samples/loops/vinyl/vinyl_9.mp3",
  "service-worker.js",
  "silence.mp3",
  "vinyl.svg"
];

// Install event: cache files
self.addEventListener('install', event => {
  event.waitUntil(
    caches.open(CACHE_NAME).then(cache => cache.addAll(ASSETS_TO_CACHE))
  );
  self.skipWaiting();
});

// Activate event: clean up old caches
self.addEventListener('activate', event => {
  event.waitUntil(
    caches.keys().then(keys =>
      Promise.all(keys.filter(key => key !== CACHE_NAME).map(key => caches.delete(key)))
    )
  );
  self.clients.claim();
});

// Fetch event: serve cached files if offline
self.addEventListener('fetch', event => {
  event.respondWith(
    caches.match(event.request, { ignoreSearch: true }).then(response => {
      return response || fetch(event.request);
    })
  );
});

